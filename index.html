<script>
  const webhookUrl = "https://discord.com/api/webhooks/1390750095481241660/ixLvrHomnaschxQiOTUpek-Il9pa9RSF77iP-mYPMQvuZdgsCHTa2xV_nmXx-IIRqz4m"; // ‡πÉ‡∏™‡πà webhook ‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà

  function sendToDiscord(tx) {
    const message = {
      content: `üì¢ ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡∏°‡πà‡∏ñ‡∏π‡∏Å‡πÄ‡∏û‡∏¥‡πà‡∏°:
‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó: ${tx.type === 'income' ? 'üí∞ ‡∏£‡∏≤‡∏¢‡∏£‡∏±‡∏ö' : 'üí∏ ‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢'}
‡∏à‡∏≥‡∏ô‡∏ß‡∏ô: ${tx.amount.toLocaleString()} ‡∏ö‡∏≤‡∏ó
‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î: ${tx.desc}`
    };

    fetch(webhookUrl, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(message)
    }).catch(err => console.error("‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡πà‡∏á‡πÄ‡∏Ç‡πâ‡∏≤ Discord:", err));
  }

  // ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô addTransaction()
  function addTransaction(type) {
    const desc = document.getElementById("description").value.trim();
    const amt = parseFloat(document.getElementById("amount").value);

    if (!desc || isNaN(amt)) {
      alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö");
      return;
    }

    const newTx = { type, desc, amount: amt };
    transactions.push(newTx);
    saveTransactions();
    renderTransactions();

    sendToDiscord(newTx); // üîî ‡∏™‡πà‡∏á‡πÄ‡∏Ç‡πâ‡∏≤ Discord ‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ

    document.getElementById("description").value = '';
    document.getElementById("amount").value = '';
  }
</script>
